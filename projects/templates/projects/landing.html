{% extends "projects/base.html" %}
{% block header %} Your Hendrix Odyssey {% endblock %}
{% block content %}
<h3>Saved Forms</h3>
<table id="saved_forms_table" class="display">
    <thead>
        <tr>
            <th>Project</th>
            <th>Form Type</th>
            <th>Updated Date</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        {% for p in proposals %}
        <tr class="clickableP" id="{{p.project_id.id}}">
            <td><a href="{% url 'projects:edit' p.project_id.id %}">{{p.project_id.title}}</a></td>
            <td>Project Proposal</td>
            <td>{{p.updated_date}}</td>
            <td>
            <div id="icons">
                <a href="{% url 'projects:edit' p.project_id.id %}" class="btn btn-link" aria-label="Edit">
                    <span class="glyphicon glyphicon-edit" aria-hidden="true" id="editicon"></span>
                </a>
                <a href="#" class="btn btn-link" aria-label="Delete">
                	<span class="glyphicon glyphicon-trash" aria-hidden="true" id="delicon"></span>
                </a>
                </div>
            </td>
        </tr>
        {% endfor %}
        {% for c in completions %}
        <tr class="clickableC" id="{{c.project_id.id}}">
            <td><a href="{% url 'projects:editcomp' c.project_id.id %}">{{c.project_id.title}}</a></td>
            <td>Project Completion</td>
            <td>{{c.updated_date}}</td>
            <td>
            <div id="icons">
                <a href="{% url 'projects:editcomp' c.project_id.id %}" class="btn btn-link" aria-label="View">
                    <span class="glyphicon glyphicon-edit" aria-hidden="true" id="editicon"></span>
                </a>
                <a href="#" class="btn btn-link" aria-label="Hide">
                	<span class="glyphicon glyphicon-trash" aria-hidden="true" id="delicon"></span>
                </a>
                </div>
            </td>
        </tr>
        {% endfor %}
    </tbody>

</table>
<h3>In Progress</h3>
<table id="progress_table" class="display">
    <thead>
        <tr>
        <th>Project</th>
        <th>Status</th>
        <th>Update</th>
        <th></th>
        </tr>
    </thead>
    <tbody>
    {% for p in projects %}
    {% if p.status != "Complete" and p.status != "Unsubmitted" %}
        <tr class="clickable" id="{{p.id}}">
          <td><a href="{% url 'projects:status' p.id %}">{{p.title}}</a></td>
          <td>{{p.status}}</td>
          <td>{{ p.update_date }}</td>
          <td>
            <a href="{% url 'projects:status' p.id %}" class="btn btn-link" aria-label="View">
            	<span class="glyphicon glyphicon-eye-open" aria-hidden="true" id="viewicon"></span></a>
            <a href=#>Hide</a>
          </td>
        </tr>
    {% endif %}
    {% endfor %}
    </tbody>

</table>
<h3>Completed Projects</h3>
<table id="completion_table" class="display">
    <thead>
        <tr>
            <th>Project</th>
            <th>Category</th>
            <th>Completed</th>
            <th>Supervisor</th>
        </tr>
    </thead>
    <tbody>
        {% for p in projects %}
        {% if p.status == "Complete" %}
        <tr class="clickable" id="{{p.id}}">
            <td><a href="{% url 'projects:status' p.id %}">{{p.title}}</a></td>
            <td>{{p.category}}</td>
            <td>{{p.updated_date}}</td>
            <td>{{p.advisor.last_name}}</td>
        </tr>
        {% endif %}
        {% endfor %}
    </tbody>
</table>

{% load static from staticfiles %}
<script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.10.11/js/jquery.dataTables.js"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.1.2/js/dataTables.buttons.min.js"></script>
<script type="text/javascript" charset="utf8" src="//cdn.datatables.net/buttons/1.1.2/js/buttons.colVis.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/t/dt/jq-2.2.0,dt-1.10.11,b-1.1.2,r-2.0.2,se-1.1.2/datatables.min.js"></script>
<script src="{% static 'projects/landing.js' %}"></script>
{% endblock %}
